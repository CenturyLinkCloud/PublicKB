{{{
  "title": "Best Practices and Preparation for a Virtual Machine/OVF/OVA Import",
  "date": "3-15-2016",
  "author": "Jake Malmad",
  "attachments": [],
  "contentIsHTML": false
}}}

#### OVERVIEW

The CenturyLink Cloud Service Task team can import images of existing physical or virtual servers directly onto the Platform, generally for compatibility/performance testing, benchmarking, or as part of an overall cloud migration strategy. There are additional Knowledge Base articles which outline the steps involved in exporting an existing virtual machine from various hypervisors (i.e. from [Xen](../Servers/converting-a-xen-image-to-ovf-for-use-in-centurylinkcloud.md), or [VMware Workstation](../Servers/exporting-a-vm-to-an-ovf-from-vmware-workstation-for-import-into-the-centurylink-cloud.md); however, this article serves to outline the best practices suggested for a successful import.

* Prepare the required documentation. The minimal information required for importing an OVF/OVA file is:

  * Desired name of the cloud Virtual Machine or Appliance (i.e. Server Alias per [CLC Naming Conventions](../Servers/server-naming-convention.md))
  * Local administrator/root username and password
  * Operating System or base OS for Appliances (i.e. Windows 2008, R2, CentOS 5, etc.)
  * Whether the imported VM is to be a [Managed OS](../Managed Services/managed-operating-system-frequently-asked-questions.md) instance.
  * Account and Group in the Control Portal that the Virtual Machine(s) will be registered in
  * VLAN or Network the Virtual Machine is to utilize
  * Type of Virtual Server (Standard or Hyperscale)
  * Validate the [Guest Operating System is supported on the CenturyLink Cloud for Import](../Service Tasks/supported-guest-operating-systems-for-ovaovf-import.md)


* The VMware hardware version (vmx) must be 8 or lower

* If exporting multiple Virtual Machines or a collection of Virtual Machines (such as a vAPP), it is required to export each VM individually. Individual files provide greater flexibility and reduce the need for repeated uploads in the event of file corruption (re-uploading a single server vs. the entire collection). **vApp import is unsupported**.

* To reduce file transfer time, and ensure file integrity, it is recommended to use an archival tool (such as the open source [7zip](http://www.7-zip.org/)) to compress the OVA/OVF. CenturyLink recommends 2-4GB increments so that in the event of a corrupt file, a single archive needs re-uploading.

* Calculate a checksum to help ensure the integrity of your files. Both Microsoft and several 3rd parties provide checksum calculation utilities; likewise a package exists for all major linux distros. In addition, a checksum can be generated by most archival programs (WinZip, WinRar, 7zip, etc.). CLC suggests including these checksums in a .txt file along with the uploads, if possible.

* Upload the OVF/OVA file to the appropriate datacenter. Make sure that the FTP server that you are uploading the OVF file to corresponds with the desired deployment datacenter, as this saves a great deal of time as the image does not need to be transferred. The specific FTP URL and account information for uploading the files will be provided to you at the time the import is to be performed as part of a service engagement. Note: If you are uploading an OVF, the OVF, VMDK and MD files must reside in their own folder.

*(Do not use the FTP User login information from Control Portal. This FTP service is not for template uploads, but for packages. For more information, please reference the [KB article about Portal FTP usage](../Control Portal/ftp-users-in-control-portal.md))*

* Member servers may rely on domain controllers not present in the CenturyLink Cloud environment to properly authenticate or execute policies- please take this into consideration when planning the upload priority, order and testing methodology. While not always possible, it is considered best practice disjoin the machine from the domain prior to exporting and then rejoin the domain once the import is complete, as the machineâ€™s virtual hardware, SID and other descriptors will have changed. The possible lack of CLC-based authentication is the basis for requiring the customer provide a local administrator account prior to import.

* The same snapshot-based backup and restoration tools are available for imported templates, but note these are not transaction-safe so application-or-database-aware backups should be utilized. When deploying templates on a platform without snapshot capability (such as Hyperscale) then the customer is responsible for developing and testing a backup and recovery methodology.

* Describe any dependencies, specific applications to be tested, or other non-standard configurations to be tested during import.

* Contact [help@ctl.io](mailto:help@ctl.io) to initiate a Service Task for the image import(s).

Following these best practices will ensure a prompt and successful deployment of your Virtual Machine or Appliance onto the CenturyLink Platform.
